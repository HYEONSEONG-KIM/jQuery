<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href = "../css/outstyle.css">
<script src = "../js/jquery-3.6.0.min.js" type = "text/javascript"></script>

<script type="text/javascript">
	
	$(function(){
		
		req = new XMLHttpRequest();
		
		$('#box1 input:button').on('click',function(){
			id = $('#id').val();
			pass = $('#pass').val();
			
			// 요청
			data = "id=" + id + "&pass=" + pass;
			req.open("post","postTest.jsp",true );
			
			req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
			req.send(data);
			
			// 응답
			req.onreadystatechange = function(){
				if(this.readyState == 4 && this.status ==200){
					aa = JSON.parse(this.responseText);
					res = `${aa.id}님 ${aa.sw}<br>`;
					
					$('#result1').html(res);
				}
				
			}
		})
		
	})
	
	

</script>

</head>
<body>
	<div class = "box" id = "box1">
		<h3>
		post로 요청<br>
		요청시 보낼 데이터 key:value형태로 send에 파라미터로 전달<br>
		data = "id=" + id + "&pass=" + pass;<br>
		req.send(data);<br>
		req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");<br>
		</h3>
		
		<form>
			아이디 : <input id = "id" type = "text" name = "id"><br>
			비밀번호 : <input id = "pass" type = "password" name = "pass"><br>
			<input type = "button" value = "전송"> 
			<input type = "reset">
		</form>
		<div id = "result1"></div>
	</div>

</body>
</html>

























